// @ts-nocheck
document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("poll-form"),e=document.getElementById("poll-results"),n="http://127.0.0.1:5000/api";async function i(){return(await fetch(`${n}/votes`)).json()}function o(t){const e=t.speed+t.design+t.visibility;if(0===e)return;const n=Math.min(Math.round(t.speed/e*100),100),i=Math.min(Math.round(t.design/e*100),100),o=Math.min(Math.round(t.visibility/e*100),100);document.getElementById("speed-bar").style.width=`${n}%`,document.getElementById("design-bar").style.width=`${i}%`,document.getElementById("visibility-bar").style.width=`${o}%`,document.getElementById("speed-percentage").textContent=`${n}%`,document.getElementById("design-percentage").textContent=`${i}%`,document.getElementById("visibility-percentage").textContent=`${o}%`}t.addEventListener("submit",(async function(e){e.preventDefault();const d=new FormData(t).get("vote");if(d){await async function(t){await fetch(`${n}/vote`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({option:t})})}(d),t.style.display="none";o(await i())}})),async function(){o(await i()),e.style.display="block"}()}));